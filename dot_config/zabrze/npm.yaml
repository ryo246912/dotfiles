.ifs:
  - &lockfile '[[ -f "./pnpm-lock.yaml" ]] || [[ -f "./package-lock.json" ]] || [[ -f "./yarn.lock" ]] || [[ -f "./bun.lock" ]] || [[ -f "./deno.lock" ]]'

abbrevs:
  - name: ni ci
    abbr-pattern: ^nc$
    snippet: ni ci
    if: *lockfile

  - name: ni add
    abbr-pattern: ^na$
    snippet: ni add
    if: *lockfile

  - name: ni run
    abbr-pattern: ^nr$
    snippet: ni run
    if: *lockfile

  - name: ni run build
    abbr: nrb
    snippet: ni run build
    if: *lockfile

  - name: ni run dev
    abbr: nrd
    snippet: ni run dev
    if: *lockfile

  - name: ni run fix
    abbr: nrf
    snippet: ni run fix
    if: *lockfile

  - name: ni run lint
    abbr: nrl
    snippet: ni run lint
    if: *lockfile

  - name: ni run test
    abbr-pattern: (^nrt$|^nt$)
    snippet: ni run test
    if: *lockfile

  - name: ni run test
    abbr: nrtd
    snippet: ni run test $(git diff --name-only --line-prefix=$(git rev-parse --show-toplevel)/ origin/master...HEAD | grep -E '.*spec.*')
    if: *lockfile
