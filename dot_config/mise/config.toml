[env]
# https://evermeet.cx/ffmpeg/
# https://github.com/acj/asdf-ffmpeg
ASDF_FFMPEG_ENABLE = "gpl libx264"

[tools]
# ffmpeg                                                      = "latest"
# ruby                                                        = "3.3.1"
actionlint                                                  = "1.7.7"
"aqua:suzuki-shunsuke/disable-checkout-persist-credentials" = "0.1.3"
"aqua:suzuki-shunsuke/ghalint"                              = "1.5.3"
"aqua:suzuki-shunsuke/pinact"                               = "3.4.2"
bitwarden                                                   = "2025.6.1"
bun                                                         = "1.2.20"
chezmoi                                                     = "2.33.2"
difftastic                                                  = "0.54.0"
dive                                                        = "0.12.0"
fzf                                                         = "0.64.0"
github-cli                                                  = "2.55.0"
hadolint                                                    = "2.12.0"
jq                                                          = "1.6"
lazydocker                                                  = "0.23.1"
navi                                                        = "2.22.1"
neovim                                                      = "0.10.1"
node                                                        = "22.18.0"
"npm:@anthropic-ai/claude-code"                             = "1.0.48"
"npm:@devcontainers/cli"                                    = "0.80.0"
"npm:@google/gemini-cli"                                    = "0.1.18"
"npm:@playwright/mcp"                                       = "0.0.7"
"npm:@sasazame/ccresume"                                    = "1.0.0"
"npm:@taplo/cli"                                            = "0.7.0"
"npm:ccmanager"                                             = "2.2.2"
"npm:ccusage"                                               = "16.2.0"
"npm:cspell"                                                = "9.2.0"
"npm:czg"                                                   = "1.12.0"
"npm:open-cli"                                              = "8.0.0"
"npm:playwright"                                            = "1.55.0"
"npm:prettier"                                              = "3.6.2"
"pipx:deepl-cli"                                            = "2.0.0"
"pipx:zizmor"                                               = "1.9.0"
python                                                      = "3.13.7"
rust                                                        = "1.89.0"
shellcheck                                                  = "0.11.0"
shfmt                                                       = "3.12.0"
terraform                                                   = "1.13.0"
tmux                                                        = "3.5"
"ubi:Ryooooooga/zabrze"                                     = "0.5.0"
"ubi:ajeetdsouza/zoxide"                                    = "0.9.8"
"ubi:akavel/up"                                             = "0.4"
"ubi:antonmedv/fx"                                          = "39.0.1"
"ubi:atuinsh/atuin"                                         = "18.0.1"
"ubi:dandavison/delta"                                      = "0.16.5"
"ubi:dlvhdr/diffnav"                                        = "0.3.1"
"ubi:dlvhdr/gh-dash"                                        = "4.16.1"
"ubi:gitui-org/gitui"                                       = "0.22.1"
"ubi:ryo246912/gh-actions-dash"                             = "0.1.1"
"ubi:ryo246912/gh-reassign-reviewer"                        = "0.0.6"
"ubi:samwho/spacer"                                         = "0.4.5"
"ubi:seachicken/gh-poi"                                     = "0.14.1"
"ubi:sharkdp/bat"                                           = "0.25.0"
"ubi:sinclairtarget/git-who"                                = "1.2"
usage                                                       = "2.2.2"
uv                                                          = "0.8.12"
vim                                                         = "9.1.1006"
yazi                                                        = "25.5.31"

[settings]
experimental = true

[settings.npm]
bun = true

[settings.pipx]
uvx = true

# lint
[tasks.lint-action]
depends = [
    "lint-actionlint",
    "lint-ghalint",
    "lint-zizmor",
]
description = "Run all action linters"

[tasks.lint-other]
depends = [
    "lint-json",
    "lint-toml",
    "lint-yaml",
]
description = "Run other linters"

# fix
[tasks.fix-action]
description = "Run fix actions files"
run         = ["pinact run", "disable-checkout-persist-credentials"]

[tasks.fix-other]
depends = [
    "fix-json",
    "fix-toml",
    "fix-yaml",
]
description = "Run other formatter"

# actions
[tasks.lint-actionlint]
description = "Run actionlint"
run         = "actionlint -ignore 'SC2016:'"

[tasks.lint-zizmor]
description = "Run zizmor"
run         = "zizmor --pedantic --gh-token=$(gh auth token) --min-severity=low .github/workflows"

[tasks.lint-ghalint]
description = "Run ghalint"
run         = "ghalint run"

# toml
[tasks.lint-toml]
description = "Run lint TOML files"
run         = "taplo format --check"

[tasks.fix-toml]
description = "Run fix TOML files"
run         = "taplo format"

# yaml
[tasks.lint-yaml]
description = "Run lint YAML files"
run         = "prettier --check '**/*.{yaml,yml}'"

[tasks.fix-yaml]
description = "Run fix YAML files"
run         = "prettier --write '**/*.{yaml,yml}'"

# json
[tasks.lint-json]
description = "Run lint json files"
run         = "prettier --check '**/*.json'"

[tasks.fix-json]
description = "Run fix json files"
run         = "prettier --write '**/*.json'"
